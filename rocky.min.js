"use strict";!function(e){var a=Phaser.Loader.prototype.loadFile;Phaser.Loader.prototype.loadFile=function(){var e=this._fileList[this._fileIndex];return this.onFileStart.dispatch(this.progress,e.key,e.url),"font"==e.type?void this.fontLoad(this._fileIndex,e.key,"text","fileComplete","fileError"):"script"!=e.type?void a.call(this):void this.scriptLoad(this._fileIndex,this.baseURL+e.url,"text","fileComplete","fileError")},Phaser.Loader.prototype.scriptLoad=function(e,a,t,s,i){var n=document.createElement("script");n.src=a;var r=this;n.onload=function(){window.setTimeout(function(){r[s](e)},0)},n.onerror=function(){return r[i](e)},document.body.appendChild(n)},Phaser.Loader.prototype.font=function(e,a,t,s){return"undefined"==typeof t&&(t=!1),t!==!1&&"undefined"==typeof s&&(s=t),this.addToFileList("font",e,a,{callback:t,callbackContext:s}),this},Phaser.Loader.prototype.fontLoad=function(e,a,t,s){var i=this._fileList[this._fileIndex];if(this.onFileStart.dispatch(this.progress,i.key,i.url),this.game.device.cocoonJS)return void this[s](e);var n=this,r=document.createElement("span");r.style.fontFamily="Comic Sans MS",r.style.position="fixed",r.style.top="-1000px",r.appendChild(document.createTextNode("`1234567890-=qwertyuiop[]asdfghjkl;'zxcvbnm,./~!@#$%^&*()_+QWERTYUIOP{}ASDFGHJKL:ZXCVBNM<>?")),document.body.appendChild(r);var o=r.getBoundingClientRect();r.style.fontFamily=i.key;var h=function(){var a=r.getBoundingClientRect();if(o.width!=a.width||o.height!=a.height){document.body.removeChild(r);for(var t in PIXI.Text.heightCache)delete PIXI.Text.heightCache[t];n[s](e)}else window.setTimeout(h,100)};window.setTimeout(h,100)};var t=null;e.mt&&e.mt.data&&(t=e.mt.data),e.mt={SPRITE:0,GROUP:1,TEXT:2,TILE_LAYER:3,knownFonts:["Arial","Comic Sans MS","Courier New","Georgia","Impact","Times New Roman","Trebuchet MS","Verdana"],assets:{},objects:{},assetsPath:"assets",game:null,data:t,mainMovie:"__main",autoLoadFonts:!0,init:function(e){this.game=e,this.game.load.crossOrigin="anonymous","2.0.7"==Phaser.VERSION?this.game.load.script("hacks","js/lib/phaserHacks2.0.7.js"):"2.1.3"==Phaser.VERSION?this.game.load.script("hacks","js/lib/phaserHacks2.1.3.js"):this.game.load.script("hacks","js/lib/phaserHacks.js")},setBackgroundColor:function(e){if(this.data.map.backgroundColor){var a=this.data.map.backgroundColor.substring(1),t=parseInt(a,16);this.game.stage.backgroundColor!=t&&this.game.stage.setBackgroundColor(t)}e&&(document.body.style.backgroundColor=this.data.map.backgroundColor)},preload:function(){this._loadAssets(this.data.assets.contents,this.assets,""),this._loadFonts(this.data.objects)},loadGroup:function(e){var a={},t=this.getObjectGroupByName(e);return t?(this._collectAssets(t,a),this._loadAssetBuffer(a),void this._loadFonts(t)):void console.error("failed to load group: ",e)},createAll:function(){var e={};this._loadObjects(this.data.objects.contents,this.game.world,"",e,!0);for(var a in e)this.createTweens(e[a],this.mainMovie);return e},createTweens:function(e,a){var t,s,i=e.mt;if(i.movies={},t=i.movies,s=i.data.movies,void 0==a)for(var n in s)n!=this.mainMovie&&(t[n]=new mt.TweenCollection(n,i));else t[a]=new mt.TweenCollection(a,i)},create:function(e,a){a=a||this.game.world;var t=this.getObjectGroupByName(e);return t?this._add(t,a,""):void console.error("failed to find the object: ",e)},createGroup:function(e,a){return mt.create(e,a)},createSlopeMap:function(e){for(var a={},t=e.layer.data,s=0,i=0;s<t.length;s++)for(i=0;i<t[s].length;i++)t[s][i].index>0&&(a[s*t[s].length+i]=t[s][i].index);return a},getObjectData:function(e,a){if("object"==typeof e&&(e=e.name),a=a||this.data.objects,a.contents)for(var t=0;t<a.contents.length;t++)if(a.contents[t].contents)this.getObjectData(e,a.contents[t]);else if(a.contents[t].name==e)return a.contents[t];return a.name==e?a:void 0},getAssetPath:function(e){return this.assetsPath+e.fullPath},getObjectGroupByName:function(e,a){a=a||this.data.objects.contents;for(var t,s=0;s<a.length;s++){if(a[s].name==e)return a[s];if(a[s].contents&&(t=this.getObjectGroupByName(e,a[s].contents)))return t}},getAssetByName:function(e,a){a=a||this.data.assets.contents;var t;for(var s in a){if(a[s].name==e)return a[s];if(a[s].contents&&(t=this.getAssetById(id,a[s].contents)))return t}return t},getAssetById:function(e,a){a=a||this.data.assets.contents;var t=null;for(var s in a){if(a[s].id==e)return a[s];if(a[s].contents&&(t=this.getAssetById(e,a[s].contents)))return t}return t},getObjectByName:function(e,a){a=a||this.data.objects.contents;var t;for(var s in a){if(a[s].name==e)return a[s];if(a[s].contents&&(t=this.getObjectById(id,a[s].contents)))return t}return t},physics:{ninja:{enableTileLayer:function(e){e=e.layer;for(var a=0,t=e.height;t>a;a++)for(var s=0,i=e.width;i>s;s++){var n=e.data[a][s];if(n&&n.index>0){var r=new Phaser.Physics.Ninja.Body(this,null,3,n.index,0,n.worldX+n.centerX,n.worldY+n.centerY,n.width,n.height);e.bodies.push(r)}}return e.bodies}}},_loadAssetBuffer:function(e){var a,t=null;for(var s in e)t=e[s],a=this._getAssetContainer(t),this._addAsset(t,a)},_loadFonts:function(e){for(var a,t=0;t<e.contents.length;t++)if(a=e.contents[t],a.contents)this._loadFonts(a);else if(a.type==mt.TEXT){if(-1!=this.knownFonts.indexOf(a.style.fontFamily))continue;this.game.load.font(a.style.fontFamily)}},_mkDiff:function(e,a){var t={};for(var s in e)"keyframe"!=s&&"object"!=typeof e[s]&&void 0!==e[s]&&e[s]!=a[s]&&(t[s]=a[s]-e[s]+"");for(var s in a)"keyframe"!=s&&"object"!=typeof a[s]&&void 0!==e[s]&&e[s]!=a[s]&&(t[s]=a[s]-e[s]+"");return t},_getAssetContainer:function(e){var a=this.assets,t=e.fullPath.split("/");t.shift();for(var s=0;s<t.length-1;s++)a[t[s]]=a[t[s]]||{},a=a[t[s]];return a},_getObjectContainer:function(e){var a=this.objects,t=e.fullPath.split("/");t.shift();for(var s=0;s<t.length-1;s++)a[t[s]]=a[t[s]]||{},a=a[t[s]];return a},_collectAssets:function(e,a){for(var t,s,i,n=0;n<e.contents.length;n++)s=e.contents[n],s.contents&&this._collectAssets(s,a),t=s.assetId,i=this.getAssetById(t),i&&(a[t]=i)},_loadAssets:function(e,a){for(var t=null,s=0,i=e.length;i>s;s++)t=e[s],t.contents&&t.contents.length?(void 0===a[t.name]&&(a[t.name]={}),this._loadAssets(t.contents,a[t.name])):this._addAsset(t,a)},_addAsset:function(e,a){e.key&&(a[e.name]||(e.atlas?this.game.load.atlas(e.key,this.assetsPath+e.fullPath,this.assetsPath+e.atlas,null,e.type):e.width!=e.frameWidth||e.height!=e.frameHeight?this.game.load.spritesheet(e.key,this.assetsPath+e.fullPath,e.frameWidth,e.frameHeight,e.frameMax,e.margin,e.spacing):this.game.load.image(e.key,this.assetsPath+e.fullPath),Object.defineProperty(a,e.name,{get:function(){return e},enumerable:!0})))},_loadObjects:function(e,a,t,s,i){a=a||this.game.world,t=""!==t?"."+t:t;for(var n=e.length-1;n>-1;n--)s[e[n].name]=this._add(e[n],a,t,i)},_add:function(e,a,t,s){var i=null;return e.type==this.GROUP?(i=this._addGroup(e),e.physics&&e.physics.enable&&(i.enableBody=!0),a.add(i),i.mt={self:i,data:e,children:{}},this._updateCommonProperties(e,i,s),this._loadObjects(e.contents,i,t+e.name,i.mt.children,s)):(e.type==this.TEXT?i=this._addText(e,a):e.type==this.TILE_LAYER?(i=this._addTileLayer(e,a),e.physics&&e.physics.enable&&i.map.setCollisionByExclusion([-1])):(i=this._addObject(e,a),this.addPhysics(e,i,a.mt?a.mt.data:null)),this._updateCommonProperties(e,i,s),i.mt={self:i,data:e,children:{}},e.contents&&this._loadObjects(e.contents,i,t+e.name,i.mt.children,s)),i.self=i,i.getData=function(){return this.mt.data},i},addPhysics:function(e,a,t){var s=e.physics;if(s&&s.enable||t&&t.physics&&t.physics.enable&&(s=t.physics),s&&s.enable){this.game.physics.arcade.enable(a),a.body.allowGravity=s.gravity.allow,a.body.gravity.x=s.gravity.x,a.body.gravity.y=s.gravity.y,a.body.immovable=s.immovable,a.body.bounce=s.bounce,a.body.maxAngular=s.rotation.maxAngular,a.body.allowRotation=s.rotation.allowRotation,a.body.maxVelocity=s.maxVelocity,a.body.mass=s.mass,a.body.collideWorldBounds=s.collideWorldBounds;var i=a.width,n=a.height;s.size.width>0&&(i=s.size.width),s.size.height>0&&(n=s.size.height),a.body.setSize(i,n,s.size.offsetX,s.size.offsetY)}},_addGroup:function(e){var a=this.game.add.group();return a.x=e.x,a.y=e.y,a.fixedToCamera=!!e.fixedToCamera,e.angle&&(a.angle=e.angle),a.alpha=e.alpha||1,a},_addText:function(e,a){a=a||this.game.world;var t=this.game.add.text(e.x,e.y,e.text||e.name,e.style);return a.add(t),t},_addTileLayer:function(e,a){a=a||this.game.world;var t=this.game.add.tilemap(null,e.tileWidth,e.tileHeight,e.widthInTiles,e.heightInTiles),s=t.createBlankLayer(e.name,e.widthInTiles,e.heightInTiles,e.tileWidth,e.tileHeight,a),i=0,n=null,r="";if(!e.images)return s;for(var o=0;o<e.images.length;o++)r=this.getAssetById(e.images[o]),r?(n=t.addTilesetImage(r.key,r.key,r.frameWidth,r.frameHeight,r.margin,r.spacing,i),i+=n.total):console.warn("cannot find image",e.images[o]);var h=e.tiles,d=null;for(var l in h)for(var c in h[l])d=t.putTile(h[l][c],parseInt(c,10),parseInt(l,10),s);return s.fixedToCamera=e.isFixedToCamera,s},_addObject:function(e,a){var t=null;a=a||this.game.world,a.type==Phaser.GROUP?t=a.create(e.x,e.y,e.assetKey):(t=this.game.add.sprite(e.x,e.y,e.assetKey),this.game.world.removeChild(t),a.addChild(t));var s=this.game.cache.getFrameData(e.assetKey);if(s){for(var i=[],n=0;n<s.total;n++)i.push(n);t.animations.add("default",i,void 0!==e.fps?e.fps:10,!1),t.frame=e.frame}return t},_updateCommonProperties:function(e,a,t){e.angle&&(a.angle=e.angle),e.type!==mt.GROUP&&a.type!=Phaser.GROUP&&(a.anchor.x=e.anchorX,a.anchor.y=e.anchorY,void 0!=e.scaleX&&(a.scale.x=e.scaleX,a.scale.y=e.scaleY)),a.x=e.x,a.y=e.y,a.alpha=e.alpha||1,t&&(a.visible=e.isVisible)},_markDirty:function(e){e=e||game.world.children;for(var a=null,t=0;t<e.length;t++)a=e[t],a.type!=Phaser.TEXT?a.type==Phaser.GROUP&&this.markDirty(a.children):a.dirty=!0}}}("undefined"==typeof window?global:window),window.mt=window.mt||{},window.mt.data={assets:{name:"assets",contents:[{name:"Loading",contents:[{id:2,name:"loading.png",fullPath:"/Loading/loading.png",key:"/preload.png",width:190,height:9,frameWidth:190,frameHeight:9,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1406817917030,atlas:"",contents:[],isClosed:!0},{id:1,name:"preload.png",fullPath:"/Loading/preload.png",key:"/loading.png",width:190,height:9,frameWidth:190,frameHeight:9,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1406817915033,atlas:""}],count:0,id:"33b1bd43-ce01-44bb-99df-d76cb176e950",fullPath:"/Loading",isClosed:!0},{id:"b687d470-12c8-4e92-9ae2-1e852175b7f0",name:"bg-1.png",fullPath:"/bg-1.png",key:"/bg.png",width:480,height:720,frameWidth:480,frameHeight:720,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233828,atlas:""},{id:"916c7e6c-c7c2-49c2-8177-692e73131d2a",name:"bg.png",fullPath:"/bg.png",key:"/bg-1.png",width:480,height:720,frameWidth:480,frameHeight:720,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435592786007,atlas:""},{id:"acf2e01f-16ef-4447-aadc-8b360c12299a",name:"character.png",fullPath:"/character.png",key:"/character.png",width:855,height:645,frameWidth:285,frameHeight:215,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233871,atlas:"",physics:{enable:0}},{id:"2fdde8fa-5a7f-4400-a47f-524705f5cba0",name:"hammer.png",fullPath:"/hammer.png",key:"/hammer.png",width:300,height:150,frameWidth:300,frameHeight:150,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233876,atlas:""},{id:"launcher",name:"launcher.png",fullPath:"/launcher.png",key:"/launcher.png",width:128,height:128,frameWidth:128,frameHeight:128,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1406817915034,atlas:""},{id:"8f21a4ac-9e96-4599-aa7e-cf111c7e0bf8",name:"playButton.png",fullPath:"/playButton.png",key:"/playButton.png",width:81,height:81,frameWidth:81,frameHeight:81,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435587277673,atlas:""},{id:"7ccf1eb4-5bb9-4b3e-9a0d-5b22141abca4",name:"popup.png",fullPath:"/popup.png",key:"/popup.png",width:283,height:249,frameWidth:283,frameHeight:249,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233877,atlas:""},{id:"ce3e4533-57a8-4b07-9e20-61e53eb28e6e",name:"restartButton.png",fullPath:"/restartButton.png",key:"/restartButton.png",width:81,height:81,frameWidth:81,frameHeight:81,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233879,atlas:""},{id:"ec2e5dff-626b-44f7-8ee6-5d0845b3bbd1",name:"stump.png",fullPath:"/stump.png",key:"/stump.png",width:480,height:120,frameWidth:480,frameHeight:120,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233881,atlas:""},{id:"1955efb6-b813-4c15-bb83-3b2f1c783237",name:"timeBar.png",fullPath:"/timeBar.png",key:"/timeBar.png",width:100,height:15,frameWidth:100,frameHeight:15,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233882,atlas:""},{id:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",name:"trunk.png",fullPath:"/trunk.png",key:"/trunk.png",width:480,height:600,frameWidth:480,frameHeight:120,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233882,atlas:"",physics:{enable:0}},{id:"7cb357f7-78d9-456a-9837-204169b233a8",name:"xButton.png",fullPath:"/xButton.png",key:"/xButton.png",width:81,height:81,frameWidth:81,frameHeight:81,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435600181123,atlas:""}],count:19},objects:{name:"objects",contents:[{id:"tmp1435536137229",name:"ui",x:0,y:0,type:1,angle:0,contents:[{x:346.8928571428571,y:75.78571428571429,type:2,anchorX:0,anchorY:0,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Nanum Brush Script",fontSize:60,font:" 60px 'Nanum Brush Script'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0,fontWeight:""},align:"left",wordWrap:0,isVisible:!0,isLocked:0,text:"0",id:"tmp1435536137237",name:"scoreValue",index:-1,fullPath:"/ui/scoreValue",shadow:{},physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{x:344.82142857142844,y:36,type:2,anchorX:0,anchorY:0,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Nanum Brush Script",fontSize:55,font:" 55px 'Nanum Brush Script'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0,fontWeight:""},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"Score:",id:"tmp1435536137231",name:"score",index:-1,fullPath:"/ui/score",shadow:{},physics:{enable:0},userData:{},movies:{}},{assetId:"1955efb6-b813-4c15-bb83-3b2f1c783237",x:348.42857142857133,y:18,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:100,height:15,id:"tmp1435536137230",name:"timeBar",index:-1,fullPath:"/ui/timeBar",movies:{},assetKey:"/timeBar.png"}],isVisible:!1,isLocked:0,isFixedToCamera:0,isClosed:!0,scaleX:1,scaleY:1,alpha:1,fullPath:"/ui",physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{id:"tmp1435497483408",name:"popup",x:240,y:360,type:1,angle:0,contents:[{assetId:"7cb357f7-78d9-456a-9837-204169b233a8",x:1.6666666666667211,y:-111.90476190476178,type:0,anchorX:.5,anchorY:.5,userData:{},physics:{enable:0},scaleX:.7407407407407407,scaleY:.7407407407407407,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:60,height:60,id:"tmp1435590628831",name:"xButton",index:-1,fullPath:"/popup/xButton",movies:{__main:{frames:[],info:{fps:60},subdata:[]}},assetKey:"/xButton.png"},{x:.5263157894736837,y:-2.1052631578947256,type:2,anchorX:.5,anchorY:.43880048959608337,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Nanum Brush Script",fontSize:55,font:" 55px 'Nanum Brush Script'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0,fontWeight:""},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"Best:",id:"tmp1435497483414",name:"best",index:-1,fullPath:"/popup/best",shadow:{},physics:{enable:0},userData:{},movies:{},width:17,height:43},{x:0,y:38.42105263157894,type:2,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Nanum Brush Script",fontSize:55,font:" 55px 'Nanum Brush Script'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0,fontWeight:""},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"0",id:"tmp1435497483413",name:"bestValue",index:-1,fullPath:"/popup/bestValue",shadow:{},physics:{enable:0},userData:{},movies:{},width:64,height:43},{x:1.0526315789473677,y:-64.47368421052633,type:2,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Nanum Brush Script",fontSize:55,font:" 55px 'Nanum Brush Script'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0,fontWeight:""},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"Score:",id:"tmp1435497483412",name:"score",index:-1,fullPath:"/popup/score",shadow:{},physics:{enable:0},userData:{},movies:{},width:17,height:43},{x:0,y:-30,type:2,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Nanum Brush Script",fontSize:55,font:" 55px 'Nanum Brush Script'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0,fontWeight:""},align:"left",wordWrap:0,isVisible:!0,isLocked:0,text:"0",id:"tmp1435539790046",name:"scoreValue",index:-1,fullPath:"/popup/scoreValue",shadow:{},physics:{enable:0},userData:{},movies:{},width:17,height:43},{assetId:"ce3e4533-57a8-4b07-9e20-61e53eb28e6e",x:0,y:120,type:0,anchorX:.5,anchorY:.5,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:!0,isLocked:0,contents:[],width:81,height:81,id:"tmp1435497483410",name:"restartButton",index:-1,fullPath:"/popup/restartButton",movies:{},assetKey:"/restartButton.png"},{assetId:"7ccf1eb4-5bb9-4b3e-9a0d-5b22141abca4",x:0,y:0,type:0,anchorX:.5,anchorY:.5,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:!0,isLocked:0,contents:[],width:283,height:249,id:"tmp1435497483409",name:"popup",index:-1,fullPath:"/popup/popup",isClosed:!0,movies:{},assetKey:"/popup.png"}],isVisible:!1,isLocked:0,isFixedToCamera:0,isClosed:!0,scaleX:1,scaleY:1,alpha:1,fullPath:"/popup",physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{id:"tmp1435581754840",name:"menu",x:0,y:0,type:1,angle:0,contents:[{x:239.09523809523805,y:378.80952380952374,type:2,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Nanum Brush Script",fontSize:72,font:" 72px 'Nanum Brush Script'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0,fontWeight:""},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"0",id:"tmp1435590628836",name:"bestValue",index:-1,fullPath:"/menu/bestValue",shadow:{},physics:{enable:0},userData:{},movies:{},width:26,height:64},{x:242.94372294372306,y:318.32900432900453,type:2,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Nanum Brush Script",fontSize:55,font:" 55px 'Nanum Brush Script'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0,fontWeight:""},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"High Score:",id:"tmp1435590628834",name:"best",index:-1,fullPath:"/menu/best",shadow:{},physics:{enable:0},userData:{},movies:{},width:202,height:50},{x:243.47619047619045,y:106.04761904761898,type:2,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Nanum Brush Script",fontSize:96,font:" 96px 'Nanum Brush Script'",fill:"#000000",align:"left",stroke:"#ffffff",strokeThickness:10,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000000",shadowBlur:0,fontWeight:""},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"Lumber Ghoul!",id:"tmp1435590628833",name:"logo",index:-1,fullPath:"/menu/logo",shadow:{x:0,y:0,color:"#000000",blur:0},physics:{enable:0},userData:{},movies:{},fill:"#000000",stroke:"#ffffff",strokeThickness:10,width:458,height:93},{assetId:"8f21a4ac-9e96-4599-aa7e-cf111c7e0bf8",x:239.99999999999994,y:481.25000000000017,type:0,anchorX:.5,anchorY:.5,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:!0,isLocked:0,contents:[],width:81,height:81,id:"tmp1435582721662",name:"playButton",index:-1,fullPath:"/menu/playButton",movies:{},assetKey:"/playButton.png"},{assetId:"7ccf1eb4-5bb9-4b3e-9a0d-5b22141abca4",x:238.99999999999986,y:362.0000000000002,type:0,anchorX:.5,anchorY:.5,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:!0,isLocked:0,contents:[],width:283,height:249,id:"tmp1435581754841",name:"popup",index:-1,fullPath:"/menu/popup",movies:{},isClosed:!0,assetKey:"/popup.png"}],isVisible:!0,isLocked:0,isFixedToCamera:0,isClosed:!1,scaleX:1,scaleY:1,alpha:1,fullPath:"/menu",physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{assetId:"acf2e01f-16ef-4447-aadc-8b360c12299a",x:239.99999999999932,y:411,type:0,anchorX:.15421670742184534,anchorY:.09882843659779332,userData:{},physics:{enable:0},scaleX:.9970451232921174,scaleY:1,angle:.38452965958450785,alpha:1,frame:0,isVisible:!0,isLocked:0,contents:[],width:284.15786013825345,height:215,id:"tmp1435497483406",name:"character",index:-1,fullPath:"/character",movies:{__main:{frames:[],info:{fps:60},subdata:[]}},isClosed:!0,assetKey:"/character.png"},{id:"tmp1435495834713",name:"trunk",x:0,y:0,type:1,angle:0,contents:[{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:0,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435495834740",name:"trunk4",index:-1,fullPath:"/trunk/trunk4",movies:{},assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:120,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:2,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435495834739",name:"trunk3",index:-1,fullPath:"/trunk/trunk3",movies:{},isClosed:!0,assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:240,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:1,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435495834738",name:"trunk2",index:-1,fullPath:"/trunk/trunk2",movies:{},assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:360,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:3,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435495834737",name:"trunk1",index:-1,fullPath:"/trunk/trunk1",isClosed:!0,movies:{},assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:480,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:4,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435495834736",name:"trunk",index:-1,fullPath:"/trunk/trunk",isClosed:!0,assetKey:"/trunk.png"}],isVisible:!0,isLocked:0,isFixedToCamera:0,isClosed:!0,scaleX:1,scaleY:1,alpha:1,fullPath:"/trunk",physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{id:"tmp1435495834712",name:"bg",x:0,y:0,type:1,angle:0,contents:[{assetId:"ec2e5dff-626b-44f7-8ee6-5d0845b3bbd1",x:0,y:600,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:480,height:120,id:"tmp1435495834711",name:"stump",index:-1,fullPath:"/bg/stump",movies:{__main:{frames:[],info:{fps:60},subdata:[]}},isClosed:!0,assetKey:"/stump.png"},{assetId:"916c7e6c-c7c2-49c2-8177-692e73131d2a",x:0,y:0,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:480,height:720,id:"tmp1435590628829",name:"bg",index:-1,fullPath:"/bg/bg",movies:{},assetKey:"/bg-1.png"}],isVisible:!0,isLocked:0,isFixedToCamera:0,isClosed:!0,scaleX:1,scaleY:1,alpha:1,fullPath:"/bg",physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{id:"tmp1406818026618",name:"Loading",x:0,y:0,angle:0,contents:[{assetId:1,x:237.1212121212121,y:468.4848484848484,type:0,anchorX:.5,anchorY:.5,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:!0,isLocked:0,contents:[],width:190,height:9,id:"tmp1435603247153",name:"preload",index:-1,fullPath:"/Loading/preload",movies:{},isClosed:!0,assetKey:"/loading.png"},{x:250.14285714285714,y:406.0476190476188,type:2,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Nanum Brush Script",fontSize:96,font:" 96px 'Nanum Brush Script'",fill:"#000000",align:"left",stroke:"#ffffff",strokeThickness:10,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000000",shadowBlur:0,fontWeight:""},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"Loading...",id:"tmp1435604781460",name:"loading",index:-1,fullPath:"/Loading/loading",shadow:{x:0,y:0,color:"#000000",blur:0},physics:{enable:0},userData:{},movies:{},fill:"#000000",stroke:"#ffffff",strokeThickness:10,width:458,height:93},{id:"tmp1435604781458",name:"trunk1",x:0,y:0,type:1,angle:0,contents:[{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:0,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435604781452",name:"trunk4",index:-1,fullPath:"/Loading/trunk1/trunk4",movies:{},assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:120,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:2,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435604781453",name:"trunk3",index:-1,fullPath:"/Loading/trunk1/trunk3",movies:{},isClosed:!0,assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:240,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:1,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435604781454",name:"trunk2",index:-1,fullPath:"/Loading/trunk1/trunk2",movies:{},assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:360,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:3,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435604781455",name:"trunk1",index:-1,fullPath:"/Loading/trunk1/trunk1",isClosed:!0,movies:{},assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:480,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:4,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435604781456",name:"trunk",index:-1,fullPath:"/Loading/trunk1/trunk",isClosed:!0,assetKey:"/trunk.png"}],isVisible:!0,isLocked:0,isFixedToCamera:0,isClosed:!0,scaleX:1,scaleY:1,alpha:1,fullPath:"/Loading/trunk1",physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}},index:-1},{assetId:"ec2e5dff-626b-44f7-8ee6-5d0845b3bbd1",x:0,y:600,type:0,anchorX:0,anchorY:0,userData:{},physics:{},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:480,height:120,id:"tmp1435604781451",name:"stump",index:-1,fullPath:"/Loading/stump",assetKey:"/stump.png"},{assetId:"916c7e6c-c7c2-49c2-8177-692e73131d2a",x:0,y:0,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:!0,isLocked:0,contents:[],width:480,height:720,id:"tmp1435604781450",name:"bg1",index:-1,fullPath:"/Loading/bg1",movies:{},assetKey:"/bg-1.png"}],isVisible:!1,isLocked:!1,isFixedToCamera:0,fullPath:"/Loading",isClosed:!0,movies:{__main:{frames:[],info:{fps:60},subdata:[]}},type:1,alpha:1,physics:{enable:0},userData:{}}],count:0},map:{cameraX:-437.99999999999994,cameraY:-111.74999999999993,worldWidth:480,worldHeight:720,viewportWidth:480,viewportHeight:720,scaleMode:"SHOW_ALL",gridX:160,gridY:120,gridOffsetX:0,gridOffsetY:0,showGrid:1,gridOpacity:.3,backgroundColor:"#222222",movieInfo:{fps:60,lastFrame:60},pixelPerfectPicking:1,physics:{enable:0}}},window.rocky={game:null,main:function(){this.game=new Phaser.Game(mt.data.map.viewportWidth,mt.data.map.viewportHeight,Phaser.AUTO,document.body,window.rocky.state.boot)},state:{}},window.addEventListener("DOMContentLoaded",function(){window.rocky.main()},!1),window.rocky.state.boot={preload:function(){this.game.world.setBounds(0,0,mt.data.map.worldWidth,mt.data.map.worldHeight),this.enableScaling(),mt.init(this.game),mt.setBackgroundColor(!0),mt.loadGroup("Loading")},create:function(){for(var e in window.rocky.state)this.game.state.add(e,window.rocky.state[e]);this.game.state.start("load")},enableScaling:function(){var e=this.game;e.scale.parentIsWindow=e.canvas.parentNode==document.body,e.scale.scaleMode=Phaser.ScaleManager[mt.data.map.scaleMode]}},window.rocky.state.load={preload:function(){var e=mt.create("Loading"),a=e,t=e.mt.children.preload;if(t){this.load.setPreloadSprite(t),a.updateTransform();var s=a.getBounds();a.x=this.game.camera.screenView.centerX-.5*s.width-s.x,a.y=this.game.camera.screenView.centerY-s.height-s.y}mt.preload()},create:function(){this.game.state.start("menu")}},window.rocky.state.menu={preload:function(){},create:function(){this.bg=mt.create("bg"),this.trunk=mt.create("trunk"),this.character=mt.create("character"),this.menu=mt.create("menu"),this.character.animations.add("idle",[0,1,2,3,4,5],10,!0),this.character.animations.add("chop",[6],10,!1),this.character.animations.play("idle");var e=this.menu.children[1];e.inputEnabled=!0,e.events.onInputDown.add(function(){this.game.state.start("play")},this);var a=parseInt(localStorage.best);a&&this.menu.children[4].setText(a)},update:function(){}},window.rocky.state.play={create:function(){this.bg=mt.create("bg"),this.trunk=mt.create("trunk"),this.character=mt.create("character"),this.ui=mt.create("ui"),this.character.animations.add("idle",[0,1,2,3,4,5],10,!0),this.character.animations.add("chop",[6],10,!1),this.character.animations.play("idle"),this.cursors=this.game.input.keyboard.createCursorKeys(),this.cursors.left.onDown.add(function(){this.chop(-1)},this),this.cursors.right.onDown.add(function(){this.chop(1)},this),this.game.input.onDown.add(function(){var e=this.game.input.activePointer.x<=this.game.width/2?-1:1;this.chop(e)},this),this.timeStarted=!1,this.gameOver=!1,this.timeBar=this.ui.children[0],this.score=this.ui.children[2],this.timeLeft=1e4},update:function(){if(this.timeStarted){var e=(new Date).getTime();if(this.timeLeft-=e-this.lastTime,this.timeLeft>0){this.lastTime=e;var a=new Phaser.Rectangle(0,0,this.timeLeft/100,15);this.timeBar.crop(a),this.timeBar.updateCrop()}else this.die()}},chop:function(e){if(!this.gameOver&&(this.timeStarted||(this.lastTime=(new Date).getTime(),this.timeStarted=!0),this.character.scale.x=e,!this.doCollide(e))){var a=this.character.animations.play("chop");
if(a.onComplete.add(function(){this.character.animations.play("idle")},this),this.addTrunk(),this.removeTrunk(),!this.doCollide(e)){var t=parseInt(this.score._text);t++,this.score.setText(t),this.timeLeft+=200-t,this.timeLeft>1e4&&(this.timeLeft=1e4)}}},addTrunk:function(){var e=this.trunk.getTop(),a=0,t=this.trunk.create(this.game.width/2,-120,"/trunk.png");a=e.frame<=1?this.game.rnd.integerInRange(2,4):this.game.rnd.integerInRange(1,4)>1?this.game.rnd.integerInRange(0,1):this.game.rnd.integerInRange(2,4),t.frame=a,t.anchor.setTo(.5,0)},removeTrunk:function(){this.trunk.getBottom().destroy(),this.trunk.forEach(function(e){var a=this.game.add.tween(e).to({y:e.y+e.height},50);a.start()},this)},doCollide:function(e){var a=this.trunk.getBottom(),t=0===a.frame?-1:a.frame;return e==t?(this.die(),!0):!1},die:function(){this.timeStarted=!1,this.gameOver=!0,this.popup=mt.create("popup");var e=this.popup.children[1];e.inputEnabled=!0,e.events.onInputDown.add(function(){console.log("restart"),this.game.state.start("play")},this);var a=this.popup.children[6];a.inputEnabled=!0,a.events.onInputDown.add(function(){console.log("exit to menu"),this.game.state.start("menu")},this);var t=parseInt(this.score._text),s=parseInt(localStorage.best);(!localStorage.best||t>s)&&(localStorage.best=t,s=t),this.popup.children[2].setText(t),this.popup.children[4].setText(s)}},window.rocky.state.demo={create:function(){var e=mt.createAll();this.game.stage.disableVisibilityChange=!0;for(var a in e)e[a].mt.movies&&e[a].mt.movies.__main&&e[a].mt.movies.__main.start().loop()}};