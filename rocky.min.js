"use strict";!function(e){var t=Phaser.Loader.prototype.loadFile;Phaser.Loader.prototype.loadFile=function(){var e=this._fileList[this._fileIndex];return this.onFileStart.dispatch(this.progress,e.key,e.url),"font"==e.type?void this.fontLoad(this._fileIndex,e.key,"text","fileComplete","fileError"):"script"!=e.type?void t.call(this):void this.scriptLoad(this._fileIndex,this.baseURL+e.url,"text","fileComplete","fileError")},Phaser.Loader.prototype.scriptLoad=function(e,t,a,s,i){var n=document.createElement("script");n.src=t;var o=this;n.onload=function(){window.setTimeout(function(){o[s](e)},0)},n.onerror=function(){return o[i](e)},document.body.appendChild(n)},Phaser.Loader.prototype.font=function(e,t,a,s){return"undefined"==typeof a&&(a=!1),a!==!1&&"undefined"==typeof s&&(s=a),this.addToFileList("font",e,t,{callback:a,callbackContext:s}),this},Phaser.Loader.prototype.fontLoad=function(e,t,a,s){var i=this._fileList[this._fileIndex];if(this.onFileStart.dispatch(this.progress,i.key,i.url),this.game.device.cocoonJS)return void this[s](e);var n=this,o=document.createElement("span");o.style.fontFamily="Comic Sans MS",o.style.position="fixed",o.style.top="-1000px",o.appendChild(document.createTextNode("`1234567890-=qwertyuiop[]asdfghjkl;'zxcvbnm,./~!@#$%^&*()_+QWERTYUIOP{}ASDFGHJKL:ZXCVBNM<>?")),document.body.appendChild(o);var r=o.getBoundingClientRect();o.style.fontFamily=i.key;var h=function(){var t=o.getBoundingClientRect();if(r.width!=t.width||r.height!=t.height){document.body.removeChild(o);for(var a in PIXI.Text.heightCache)delete PIXI.Text.heightCache[a];n[s](e)}else window.setTimeout(h,100)};window.setTimeout(h,100)};var a=null;e.mt&&e.mt.data&&(a=e.mt.data),e.mt={SPRITE:0,GROUP:1,TEXT:2,TILE_LAYER:3,knownFonts:["Arial","Comic Sans MS","Courier New","Georgia","Impact","Times New Roman","Trebuchet MS","Verdana"],assets:{},objects:{},assetsPath:"assets",game:null,data:a,mainMovie:"__main",autoLoadFonts:!0,init:function(e){this.game=e,this.game.load.crossOrigin="anonymous","2.0.7"==Phaser.VERSION?this.game.load.script("hacks","js/lib/phaserHacks2.0.7.js"):"2.1.3"==Phaser.VERSION?this.game.load.script("hacks","js/lib/phaserHacks2.1.3.js"):this.game.load.script("hacks","js/lib/phaserHacks.js")},setBackgroundColor:function(e){if(this.data.map.backgroundColor){var t=this.data.map.backgroundColor.substring(1),a=parseInt(t,16);this.game.stage.backgroundColor!=a&&this.game.stage.setBackgroundColor(a)}e&&(document.body.style.backgroundColor=this.data.map.backgroundColor)},preload:function(){this._loadAssets(this.data.assets.contents,this.assets,""),this._loadFonts(this.data.objects)},loadGroup:function(e){var t={},a=this.getObjectGroupByName(e);return a?(this._collectAssets(a,t),this._loadAssetBuffer(t),void this._loadFonts(a)):void console.error("failed to load group: ",e)},createAll:function(){var e={};this._loadObjects(this.data.objects.contents,this.game.world,"",e,!0);for(var t in e)this.createTweens(e[t],this.mainMovie);return e},createTweens:function(e,t){var a,s,i=e.mt;if(i.movies={},a=i.movies,s=i.data.movies,void 0==t)for(var n in s)n!=this.mainMovie&&(a[n]=new mt.TweenCollection(n,i));else a[t]=new mt.TweenCollection(t,i)},create:function(e,t){t=t||this.game.world;var a=this.getObjectGroupByName(e);return a?this._add(a,t,""):void console.error("failed to find the object: ",e)},createGroup:function(e,t){return mt.create(e,t)},createSlopeMap:function(e){for(var t={},a=e.layer.data,s=0,i=0;s<a.length;s++)for(i=0;i<a[s].length;i++)a[s][i].index>0&&(t[s*a[s].length+i]=a[s][i].index);return t},getObjectData:function(e,t){if("object"==typeof e&&(e=e.name),t=t||this.data.objects,t.contents)for(var a=0;a<t.contents.length;a++)if(t.contents[a].contents)this.getObjectData(e,t.contents[a]);else if(t.contents[a].name==e)return t.contents[a];return t.name==e?t:void 0},getAssetPath:function(e){return this.assetsPath+e.fullPath},getObjectGroupByName:function(e,t){t=t||this.data.objects.contents;for(var a,s=0;s<t.length;s++){if(t[s].name==e)return t[s];if(t[s].contents&&(a=this.getObjectGroupByName(e,t[s].contents)))return a}},getAssetByName:function(e,t){t=t||this.data.assets.contents;var a;for(var s in t){if(t[s].name==e)return t[s];if(t[s].contents&&(a=this.getAssetById(id,t[s].contents)))return a}return a},getAssetById:function(e,t){t=t||this.data.assets.contents;var a=null;for(var s in t){if(t[s].id==e)return t[s];if(t[s].contents&&(a=this.getAssetById(e,t[s].contents)))return a}return a},getObjectByName:function(e,t){t=t||this.data.objects.contents;var a;for(var s in t){if(t[s].name==e)return t[s];if(t[s].contents&&(a=this.getObjectById(id,t[s].contents)))return a}return a},physics:{ninja:{enableTileLayer:function(e){e=e.layer;for(var t=0,a=e.height;a>t;t++)for(var s=0,i=e.width;i>s;s++){var n=e.data[t][s];if(n&&n.index>0){var o=new Phaser.Physics.Ninja.Body(this,null,3,n.index,0,n.worldX+n.centerX,n.worldY+n.centerY,n.width,n.height);e.bodies.push(o)}}return e.bodies}}},_loadAssetBuffer:function(e){var t,a=null;for(var s in e)a=e[s],t=this._getAssetContainer(a),this._addAsset(a,t)},_loadFonts:function(e){for(var t,a=0;a<e.contents.length;a++)if(t=e.contents[a],t.contents)this._loadFonts(t);else if(t.type==mt.TEXT){if(-1!=this.knownFonts.indexOf(t.style.fontFamily))continue;this.game.load.font(t.style.fontFamily)}},_mkDiff:function(e,t){var a={};for(var s in e)"keyframe"!=s&&"object"!=typeof e[s]&&void 0!==e[s]&&e[s]!=t[s]&&(a[s]=t[s]-e[s]+"");for(var s in t)"keyframe"!=s&&"object"!=typeof t[s]&&void 0!==e[s]&&e[s]!=t[s]&&(a[s]=t[s]-e[s]+"");return a},_getAssetContainer:function(e){var t=this.assets,a=e.fullPath.split("/");a.shift();for(var s=0;s<a.length-1;s++)t[a[s]]=t[a[s]]||{},t=t[a[s]];return t},_getObjectContainer:function(e){var t=this.objects,a=e.fullPath.split("/");a.shift();for(var s=0;s<a.length-1;s++)t[a[s]]=t[a[s]]||{},t=t[a[s]];return t},_collectAssets:function(e,t){for(var a,s,i,n=0;n<e.contents.length;n++)s=e.contents[n],s.contents&&this._collectAssets(s,t),a=s.assetId,i=this.getAssetById(a),i&&(t[a]=i)},_loadAssets:function(e,t){for(var a=null,s=0,i=e.length;i>s;s++)a=e[s],a.contents&&a.contents.length?(void 0===t[a.name]&&(t[a.name]={}),this._loadAssets(a.contents,t[a.name])):this._addAsset(a,t)},_addAsset:function(e,t){e.key&&(t[e.name]||(e.atlas?this.game.load.atlas(e.key,this.assetsPath+e.fullPath,this.assetsPath+e.atlas,null,e.type):e.width!=e.frameWidth||e.height!=e.frameHeight?this.game.load.spritesheet(e.key,this.assetsPath+e.fullPath,e.frameWidth,e.frameHeight,e.frameMax,e.margin,e.spacing):this.game.load.image(e.key,this.assetsPath+e.fullPath),Object.defineProperty(t,e.name,{get:function(){return e},enumerable:!0})))},_loadObjects:function(e,t,a,s,i){t=t||this.game.world,a=""!==a?"."+a:a;for(var n=e.length-1;n>-1;n--)s[e[n].name]=this._add(e[n],t,a,i)},_add:function(e,t,a,s){var i=null;return e.type==this.GROUP?(i=this._addGroup(e),e.physics&&e.physics.enable&&(i.enableBody=!0),t.add(i),i.mt={self:i,data:e,children:{}},this._updateCommonProperties(e,i,s),this._loadObjects(e.contents,i,a+e.name,i.mt.children,s)):(e.type==this.TEXT?i=this._addText(e,t):e.type==this.TILE_LAYER?(i=this._addTileLayer(e,t),e.physics&&e.physics.enable&&i.map.setCollisionByExclusion([-1])):(i=this._addObject(e,t),this.addPhysics(e,i,t.mt?t.mt.data:null)),this._updateCommonProperties(e,i,s),i.mt={self:i,data:e,children:{}},e.contents&&this._loadObjects(e.contents,i,a+e.name,i.mt.children,s)),i.self=i,i.getData=function(){return this.mt.data},i},addPhysics:function(e,t,a){var s=e.physics;if(s&&s.enable||a&&a.physics&&a.physics.enable&&(s=a.physics),s&&s.enable){this.game.physics.arcade.enable(t),t.body.allowGravity=s.gravity.allow,t.body.gravity.x=s.gravity.x,t.body.gravity.y=s.gravity.y,t.body.immovable=s.immovable,t.body.bounce=s.bounce,t.body.maxAngular=s.rotation.maxAngular,t.body.allowRotation=s.rotation.allowRotation,t.body.maxVelocity=s.maxVelocity,t.body.mass=s.mass,t.body.collideWorldBounds=s.collideWorldBounds;var i=t.width,n=t.height;s.size.width>0&&(i=s.size.width),s.size.height>0&&(n=s.size.height),t.body.setSize(i,n,s.size.offsetX,s.size.offsetY)}},_addGroup:function(e){var t=this.game.add.group();return t.x=e.x,t.y=e.y,t.fixedToCamera=!!e.fixedToCamera,e.angle&&(t.angle=e.angle),t.alpha=e.alpha||1,t},_addText:function(e,t){t=t||this.game.world;var a=this.game.add.text(e.x,e.y,e.text||e.name,e.style);return t.add(a),a},_addTileLayer:function(e,t){t=t||this.game.world;var a=this.game.add.tilemap(null,e.tileWidth,e.tileHeight,e.widthInTiles,e.heightInTiles),s=a.createBlankLayer(e.name,e.widthInTiles,e.heightInTiles,e.tileWidth,e.tileHeight,t),i=0,n=null,o="";if(!e.images)return s;for(var r=0;r<e.images.length;r++)o=this.getAssetById(e.images[r]),o?(n=a.addTilesetImage(o.key,o.key,o.frameWidth,o.frameHeight,o.margin,o.spacing,i),i+=n.total):console.warn("cannot find image",e.images[r]);var h=e.tiles,l=null;for(var d in h)for(var c in h[d])l=a.putTile(h[d][c],parseInt(c,10),parseInt(d,10),s);return s.fixedToCamera=e.isFixedToCamera,s},_addObject:function(e,t){var a=null;t=t||this.game.world,t.type==Phaser.GROUP?a=t.create(e.x,e.y,e.assetKey):(a=this.game.add.sprite(e.x,e.y,e.assetKey),this.game.world.removeChild(a),t.addChild(a));var s=this.game.cache.getFrameData(e.assetKey);if(s){for(var i=[],n=0;n<s.total;n++)i.push(n);a.animations.add("default",i,void 0!==e.fps?e.fps:10,!1),a.frame=e.frame}return a},_updateCommonProperties:function(e,t,a){e.angle&&(t.angle=e.angle),e.type!==mt.GROUP&&t.type!=Phaser.GROUP&&(t.anchor.x=e.anchorX,t.anchor.y=e.anchorY,void 0!=e.scaleX&&(t.scale.x=e.scaleX,t.scale.y=e.scaleY)),t.x=e.x,t.y=e.y,t.alpha=e.alpha||1,a&&(t.visible=e.isVisible)},_markDirty:function(e){e=e||game.world.children;for(var t=null,a=0;a<e.length;a++)t=e[a],t.type!=Phaser.TEXT?t.type==Phaser.GROUP&&this.markDirty(t.children):t.dirty=!0}}}("undefined"==typeof window?global:window),window.mt=window.mt||{},window.mt.data={assets:{name:"assets",contents:[{name:"Loading",contents:[{id:2,name:"loading.png",fullPath:"/Loading/loading.png",key:"/preload.png",width:190,height:9,frameWidth:190,frameHeight:9,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1406817917030,atlas:"",contents:[],isClosed:!0},{id:1,name:"preload.png",fullPath:"/Loading/preload.png",key:"/loading.png",width:190,height:9,frameWidth:190,frameHeight:9,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1406817915033,atlas:""}],count:0,id:"33b1bd43-ce01-44bb-99df-d76cb176e950",fullPath:"/Loading",isClosed:!0},{id:"b687d470-12c8-4e92-9ae2-1e852175b7f0",name:"bg-1.png",fullPath:"/bg-1.png",key:"/bg.png",width:480,height:720,frameWidth:480,frameHeight:720,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233828,atlas:""},{id:"916c7e6c-c7c2-49c2-8177-692e73131d2a",name:"bg.png",fullPath:"/bg.png",key:"/bg-1.png",width:480,height:720,frameWidth:480,frameHeight:720,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435592786007,atlas:""},{id:"acf2e01f-16ef-4447-aadc-8b360c12299a",name:"character.png",fullPath:"/character.png",key:"/character.png",width:855,height:645,frameWidth:285,frameHeight:215,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233871,atlas:"",physics:{enable:0}},{id:"2fdde8fa-5a7f-4400-a47f-524705f5cba0",name:"hammer.png",fullPath:"/hammer.png",key:"/hammer.png",width:300,height:150,frameWidth:300,frameHeight:150,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233876,atlas:""},{id:"launcher",name:"launcher.png",fullPath:"/launcher.png",key:"/launcher.png",width:128,height:128,frameWidth:128,frameHeight:128,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1406817915034,atlas:""},{id:"8f21a4ac-9e96-4599-aa7e-cf111c7e0bf8",name:"playButton.png",fullPath:"/playButton.png",key:"/playButton.png",width:81,height:81,frameWidth:81,frameHeight:81,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435587277673,atlas:""},{id:"7ccf1eb4-5bb9-4b3e-9a0d-5b22141abca4",name:"popup.png",fullPath:"/popup.png",key:"/popup.png",width:283,height:249,frameWidth:283,frameHeight:249,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233877,atlas:""},{id:"ce3e4533-57a8-4b07-9e20-61e53eb28e6e",name:"restartButton.png",fullPath:"/restartButton.png",key:"/restartButton.png",width:81,height:81,frameWidth:81,frameHeight:81,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233879,atlas:""},{id:"ec2e5dff-626b-44f7-8ee6-5d0845b3bbd1",name:"stump.png",fullPath:"/stump.png",key:"/stump.png",width:480,height:120,frameWidth:480,frameHeight:120,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233881,atlas:""},{id:"1955efb6-b813-4c15-bb83-3b2f1c783237",name:"timeBar.png",fullPath:"/timeBar.png",key:"/timeBar.png",width:100,height:15,frameWidth:100,frameHeight:15,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233882,atlas:""},{id:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",name:"trunk.png",fullPath:"/trunk.png",key:"/trunk.png",width:480,height:600,frameWidth:480,frameHeight:120,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435496233882,atlas:"",physics:{enable:0}},{id:"7cb357f7-78d9-456a-9837-204169b233a8",name:"xButton.png",fullPath:"/xButton.png",key:"/xButton.png",width:81,height:81,frameWidth:81,frameHeight:81,frameMax:-1,margin:0,spacing:0,anchorX:0,anchorY:0,fps:10,updated:1435600181123,atlas:""}],count:19},objects:{name:"objects",contents:[{id:"tmp1435536137229",name:"ui",x:0,y:0,type:1,angle:0,contents:[{x:419.75,y:71.5,type:2,anchorX:0,anchorY:0,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Arial",fontSize:32,font:" 32px 'Arial'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"0",id:"tmp1435536137237",name:"scoreValue",index:-1,fullPath:"/ui/scoreValue",shadow:{},physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{x:356.25,y:36,type:2,anchorX:0,anchorY:0,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Arial",fontSize:32,font:" 32px 'Arial'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"Score",id:"tmp1435536137231",name:"score",index:-1,fullPath:"/ui/score",shadow:{},physics:{enable:0},userData:{},movies:{}},{assetId:"1955efb6-b813-4c15-bb83-3b2f1c783237",x:348.42857142857133,y:18,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:100,height:15,id:"tmp1435536137230",name:"timeBar",index:-1,fullPath:"/ui/timeBar",movies:{},assetKey:"/timeBar.png"}],isVisible:!1,isLocked:0,isFixedToCamera:0,isClosed:!0,scaleX:1,scaleY:1,alpha:1,fullPath:"/ui",physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{id:"tmp1435497483408",name:"popup",x:240,y:360,type:1,angle:0,contents:[{assetId:"7cb357f7-78d9-456a-9837-204169b233a8",x:1.2145839889399213e-13,y:-108.3333333333331,type:0,anchorX:.5,anchorY:.5,userData:{},physics:{enable:0},scaleX:.7407407407407407,scaleY:.7407407407407407,angle:0,alpha:1,frame:0,isVisible:!0,isLocked:0,contents:[],width:60,height:60,id:"tmp1435590628831",name:"xButton",index:-1,fullPath:"/popup/xButton",movies:{__main:{frames:[],info:{fps:60},subdata:[]}},assetKey:"/xButton.png"},{x:.5263157894736837,y:-2.1052631578947256,type:2,anchorX:.5,anchorY:.43880048959608337,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Arial",fontSize:32,font:" 32px 'Arial'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"Best:",id:"tmp1435497483414",name:"best",index:-1,fullPath:"/popup/best",shadow:{},physics:{enable:0},userData:{},movies:{},width:17,height:43},{x:0,y:38.42105263157894,type:2,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Arial",fontSize:32,font:" 32px 'Arial'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"0",id:"tmp1435497483413",name:"bestValue",index:-1,fullPath:"/popup/bestValue",shadow:{},physics:{enable:0},userData:{},movies:{},width:64,height:43},{x:1.0526315789473677,y:-64.47368421052633,type:2,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Arial",fontSize:32,font:" 32px 'Arial'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"Score:",id:"tmp1435497483412",name:"score",index:-1,fullPath:"/popup/score",shadow:{},physics:{enable:0},userData:{},movies:{},width:17,height:43},{x:0,y:-30,type:2,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Arial",fontSize:32,font:" 32px 'Arial'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0},align:"left",wordWrap:0,isVisible:!0,isLocked:0,text:"0",id:"tmp1435539790046",name:"scoreValue",index:-1,fullPath:"/popup/scoreValue",shadow:{},physics:{enable:0},userData:{},movies:{},width:17,height:43},{assetId:"ce3e4533-57a8-4b07-9e20-61e53eb28e6e",x:0,y:120,type:0,anchorX:.5,anchorY:.5,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:!0,isLocked:0,contents:[],width:81,height:81,id:"tmp1435497483410",name:"restartButton",index:-1,fullPath:"/popup/restartButton",assetKey:"/restartButton.png"},{assetId:"7ccf1eb4-5bb9-4b3e-9a0d-5b22141abca4",x:0,y:0,type:0,anchorX:.5,anchorY:.5,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:!0,isLocked:0,contents:[],width:283,height:249,id:"tmp1435497483409",name:"popup",index:-1,fullPath:"/popup/popup",isClosed:!0,movies:{},assetKey:"/popup.png"}],isVisible:!1,isLocked:0,isFixedToCamera:0,isClosed:!0,scaleX:1,scaleY:1,alpha:1,fullPath:"/popup",physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{id:"tmp1435581754840",name:"menu",x:0,y:0,type:1,angle:0,contents:[{x:225.8333333333332,y:361.33333333333354,type:2,anchorX:0,anchorY:0,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Arial",fontSize:32,font:" 32px 'Arial'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"0",id:"tmp1435610638688",name:"bestValue",index:-1,fullPath:"/menu/bestValue",shadow:{},physics:{enable:0},userData:{},movies:{}},{x:156.8333333333333,y:293.5000000000002,type:2,anchorX:0,anchorY:0,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Arial",fontSize:32,font:" 32px 'Arial'",fill:"#000000",align:"left",stroke:"black",strokeThickness:0,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"High Score:",id:"tmp1435610638687",name:"best",index:-1,fullPath:"/menu/best",shadow:{},physics:{enable:0},userData:{},movies:{}},{x:240,y:130,type:2,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Arial",fontSize:60,font:" 60px 'Arial'",fill:"#ffffff",align:"left",stroke:"#000000",strokeThickness:10,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"Lumber Ghoul!",id:"tmp1435610638686",name:"logo",index:-1,fullPath:"/menu/logo",shadow:{},physics:{enable:0},userData:{},movies:{},fill:"#ffffff",stroke:"#000000",strokeThickness:10,width:221,height:53},{assetId:"8f21a4ac-9e96-4599-aa7e-cf111c7e0bf8",x:200,y:441.25,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:81,height:81,id:"tmp1435582721662",name:"playButton",index:-1,fullPath:"/menu/playButton",movies:{},assetKey:"/playButton.png"},{assetId:"7ccf1eb4-5bb9-4b3e-9a0d-5b22141abca4",x:99,y:237,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:!0,isLocked:0,contents:[],width:283,height:249,id:"tmp1435581754841",name:"popup",index:-1,fullPath:"/menu/popup",movies:{},isClosed:!0,assetKey:"/popup.png"}],isVisible:!1,isLocked:0,isFixedToCamera:0,isClosed:!0,scaleX:1,scaleY:1,alpha:1,fullPath:"/menu",physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{assetId:"acf2e01f-16ef-4447-aadc-8b360c12299a",x:239.99999999999932,y:411,type:0,anchorX:.15421670742184534,anchorY:.09882843659779332,userData:{},physics:{enable:0},scaleX:.9970451232921174,scaleY:1,angle:.38452965958450785,alpha:1,frame:0,isVisible:!1,isLocked:0,contents:[],width:284.15786013825345,height:215,id:"tmp1435497483406",name:"character",index:-1,fullPath:"/character",movies:{__main:{frames:[],info:{fps:60},subdata:[]}},isClosed:!0,assetKey:"/character.png"},{id:"tmp1435495834713",name:"trunk",x:0,y:0,type:1,angle:0,contents:[{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:0,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435495834740",name:"trunk4",index:-1,fullPath:"/trunk/trunk4",movies:{},assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:120,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:2,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435495834739",name:"trunk3",index:-1,fullPath:"/trunk/trunk3",movies:{},isClosed:!0,assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:240,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:1,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435495834738",name:"trunk2",index:-1,fullPath:"/trunk/trunk2",movies:{},assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:360,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:3,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435495834737",name:"trunk1",index:-1,fullPath:"/trunk/trunk1",isClosed:!0,movies:{},assetKey:"/trunk.png"},{assetId:"754c1e3f-e258-46fb-8cd1-11beed3b91e4",x:0,y:480,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:4,isVisible:1,isLocked:0,contents:[],width:480,height:120,frameName:"",id:"tmp1435495834736",name:"trunk",index:-1,fullPath:"/trunk/trunk",isClosed:!0,assetKey:"/trunk.png"}],isVisible:!1,isLocked:0,isFixedToCamera:0,isClosed:!0,scaleX:1,scaleY:1,alpha:1,fullPath:"/trunk",physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{id:"tmp1435495834712",name:"bg",x:0,y:0,type:1,angle:0,contents:[{assetId:"ec2e5dff-626b-44f7-8ee6-5d0845b3bbd1",x:0,y:600,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:480,height:120,id:"tmp1435495834711",name:"stump",index:-1,fullPath:"/bg/stump",movies:{__main:{frames:[],info:{fps:60},subdata:[]}},isClosed:!0,assetKey:"/stump.png"},{assetId:"916c7e6c-c7c2-49c2-8177-692e73131d2a",x:0,y:0,type:0,anchorX:0,anchorY:0,userData:{},physics:{enable:0},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:480,height:720,id:"tmp1435590628829",name:"bg",index:-1,fullPath:"/bg/bg",movies:{},assetKey:"/bg-1.png"}],isVisible:!1,isLocked:0,isFixedToCamera:0,isClosed:!0,scaleX:1,scaleY:1,alpha:1,fullPath:"/bg",physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}}},{id:"tmp1406818026618",name:"Loading",x:0,y:0,angle:0,contents:[{x:136.66666666666663,y:402.4999999999999,type:2,anchorX:0,anchorY:0,scaleX:1,scaleY:1,angle:0,alpha:1,wordWrapWidth:100,style:{fontFamily:"Arial",fontSize:48,font:" 48px 'Arial'",fill:"#ffffff",align:"left",stroke:"#000000",strokeThickness:10,wordWrap:!1,wordWrapWidth:100,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0)",shadowBlur:0},align:"left",wordWrap:0,isVisible:1,isLocked:0,text:"Loading...",id:"tmp1435610638689",name:"loading",index:-1,fullPath:"/Loading/loading",shadow:{},physics:{enable:0},userData:{},movies:{__main:{frames:[],info:{fps:60},subdata:[]}},stroke:"#000000",strokeThickness:10,fill:"#ffffff"},{assetId:"__missing",x:256,y:192,type:0,anchorX:0,anchorY:0,scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:!1,isLocked:0,width:32,height:32,id:"tmp1406818026617",name:"preload",fullPath:"/Loading/preload",contents:[],isClosed:!0,physics:{enable:0},userData:{},movies:{}},{assetId:1,x:240,y:475,type:0,anchorX:.5,anchorY:.5,scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,width:190,height:9,id:"tmp1406818026616",name:"loading",fullPath:"/Loading/loading",contents:[],physics:{enable:0},userData:{},movies:{},isClosed:!0,assetKey:"/loading.png"},{assetId:"916c7e6c-c7c2-49c2-8177-692e73131d2a",x:0,y:0,type:0,anchorX:0,anchorY:0,userData:{},physics:{},scaleX:1,scaleY:1,angle:0,alpha:1,frame:0,isVisible:1,isLocked:0,contents:[],width:480,height:720,id:"tmp1435610638691",name:"bg1",index:-1,fullPath:"/Loading/bg1",isClosed:!1,assetKey:"/bg-1.png"}],isVisible:!0,isLocked:!0,isFixedToCamera:0,fullPath:"/Loading",isClosed:!1,movies:{__main:{frames:[],info:{fps:60},subdata:[]}},type:1,alpha:1,physics:{enable:0},userData:{}}],count:0},map:{cameraX:-194.90909090909102,cameraY:-5.363636363636392,worldWidth:480,worldHeight:720,viewportWidth:480,viewportHeight:720,scaleMode:"SHOW_ALL",gridX:160,gridY:120,gridOffsetX:0,gridOffsetY:0,showGrid:1,gridOpacity:.3,backgroundColor:"#222222",movieInfo:{fps:60,lastFrame:60},pixelPerfectPicking:1,physics:{enable:0}}},window.rocky={game:null,main:function(){this.game=new Phaser.Game(mt.data.map.viewportWidth,mt.data.map.viewportHeight,Phaser.AUTO,document.body,window.rocky.state.boot)},state:{}},window.addEventListener("DOMContentLoaded",function(){window.rocky.main()},!1),window.rocky.state.boot={preload:function(){this.game.world.setBounds(0,0,mt.data.map.worldWidth,mt.data.map.worldHeight),this.enableScaling(),mt.init(this.game),mt.setBackgroundColor(!0),mt.loadGroup("Loading")},create:function(){for(var e in window.rocky.state)this.game.state.add(e,window.rocky.state[e]);this.game.state.start("load")},enableScaling:function(){var e=this.game;e.scale.parentIsWindow=e.canvas.parentNode==document.body,e.scale.scaleMode=Phaser.ScaleManager[mt.data.map.scaleMode]}},window.rocky.state.load={preload:function(){var e=mt.create("Loading"),t=e,a=e.mt.children.preload;if(a){this.load.setPreloadSprite(a),t.updateTransform();var s=t.getBounds();t.x=this.game.camera.screenView.centerX-.5*s.width-s.x,t.y=this.game.camera.screenView.centerY-s.height-s.y}mt.preload()},create:function(){this.game.state.start("menu")}},window.rocky.state.menu={preload:function(){},create:function(){this.bg=mt.create("bg"),this.trunk=mt.create("trunk"),this.menu=mt.create("menu");var e=this.menu.children[1];e.inputEnabled=!0,e.events.onInputDown.add(function(){this.game.state.start("play")},this);var t=parseInt(localStorage.best);t&&this.menu.children[4].setText(t)},update:function(){}},window.rocky.state.play={create:function(){this.bg=mt.create("bg"),this.trunk=mt.create("trunk"),this.character=mt.create("character"),this.ui=mt.create("ui"),this.character.animations.add("idle",[0,1,2,3,4,5],10,!0),this.character.animations.add("chop",[6],10,!1),this.character.animations.play("idle"),this.cursors=this.game.input.keyboard.createCursorKeys(),this.cursors.left.onDown.add(function(){this.chop(-1)},this),this.cursors.right.onDown.add(function(){this.chop(1)},this),this.game.input.onDown.add(function(){var e=this.game.input.activePointer.x<=this.game.width/2?-1:1;this.chop(e)},this),this.timeStarted=!1,this.gameOver=!1,this.timeBar=this.ui.children[0],this.score=this.ui.children[2],this.timeLeft=1e4},update:function(){if(this.timeStarted){var e=(new Date).getTime();if(this.timeLeft-=e-this.lastTime,this.timeLeft>0){this.lastTime=e;var t=new Phaser.Rectangle(0,0,this.timeLeft/100,15);this.timeBar.crop(t),this.timeBar.updateCrop()}else this.die()}},chop:function(e){if(!this.gameOver&&(this.timeStarted||(this.lastTime=(new Date).getTime(),this.timeStarted=!0),this.character.scale.x=e,!this.doCollide(e))){var t=this.character.animations.play("chop");if(t.onComplete.add(function(){this.character.animations.play("idle")},this),this.addTrunk(),this.removeTrunk(),!this.doCollide(e)){var a=parseInt(this.score._text);a++,this.score.setText(a),this.timeLeft+=200-a,this.timeLeft>1e4&&(this.timeLeft=1e4)}}},addTrunk:function(){var e=this.trunk.getTop(),t=0,a=this.trunk.create(this.game.width/2,-120,"/trunk.png");t=e.frame<=1?this.game.rnd.integerInRange(2,4):this.game.rnd.integerInRange(1,4)>1?this.game.rnd.integerInRange(0,1):this.game.rnd.integerInRange(2,4),a.frame=t,a.anchor.setTo(.5,0)},removeTrunk:function(){this.trunk.getBottom().destroy(),this.trunk.forEach(function(e){var t=this.game.add.tween(e).to({y:e.y+e.height},50);t.start()},this)},doCollide:function(e){var t=this.trunk.getBottom(),a=0===t.frame?-1:t.frame;return e==a?(this.die(),!0):!1},die:function(){this.timeStarted=!1,this.gameOver=!0,this.popup=mt.create("popup");var e=this.popup.children[1];e.inputEnabled=!0,e.events.onInputDown.add(function(){console.log("restart"),this.game.state.start("play")},this);var t=this.popup.children[6];t.inputEnabled=!0,t.events.onInputDown.add(function(){console.log("exit to menu"),this.game.state.start("menu")},this);var a=parseInt(this.score._text),s=parseInt(localStorage.best);(!localStorage.best||a>s)&&(localStorage.best=a,s=a),this.popup.children[2].setText(a),this.popup.children[4].setText(s)}},window.rocky.state.demo={create:function(){var e=mt.createAll();this.game.stage.disableVisibilityChange=!0;for(var t in e)e[t].mt.movies&&e[t].mt.movies.__main&&e[t].mt.movies.__main.start().loop()}};